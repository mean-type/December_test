<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>세로쓰기 테스트 페이지</title>
  <style>
    @font-face {
      font-family: 'December25910';
      src: url('./December250910.woff') format('woff');
      font-display: swap;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'December25910', '맑은 고딕', 'Malgun Gothic', sans-serif;
      height: 100vh;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      overflow: hidden;
      position: relative;
    }

    .container {
      height: 100vh;
      width: 100vw;
      position: relative;
      padding: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .vertical-text {
      writing-mode: vertical-rl;
      text-orientation: mixed;
      font-size: 24px;
      line-height: 24px;
      color: #333;
      outline: none;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-wrap: break-word;

      height: calc(100vh - 80px);
      width: calc(100vw - 80px);
      max-height: calc(100vh - 80px);
      max-width: calc(100vw - 80px);

      padding: 20px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 10px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);

      overflow: hidden;
      transition: none !important;
      animation: none !important;
    }

    .vertical-text:focus {
      background: rgba(255, 255, 255, 0.85);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      border-color: rgba(52, 152, 219, 0.3);
    }

    .vertical-text * {
      font-family: 'December25910', '맑은 고딕', 'Malgun Gothic', sans-serif !important;
      font-size: inherit !important;
      line-height: inherit !important;
      color: inherit !important;
      background: transparent !important;
      text-decoration: none !important;
      font-weight: normal !important;
      font-style: normal !important;
      transition: none !important;
      animation: none !important;
    }

    @media (max-width: 768px) {
      .container {
        padding: 20px;
      }

      .vertical-text {
        height: calc(100vh - 40px);
        width: calc(100vw - 40px);
        max-height: calc(100vh - 40px);
        max-width: calc(100vw - 40px);
        font-size: 18px;
        line-height: 18px;
        padding: 15px;
      }
    }

    .vertical-text::selection {
      background: rgba(52, 152, 219, 0.3);
    }

    .vertical-text::-moz-selection {
      background: rgba(52, 152, 219, 0.3);
    }

    .size-indicator {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(52, 152, 219, 0.8);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }

    .size-indicator.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="size-indicator" id="sizeIndicator">24px</div>
    <div id="textDisplay" class="vertical-text" contenteditable="true" spellcheck="false">
섯달 테스트페이지입니다.

여기에 자유롭게 텍스트를 입력하고 편집할 수 있습니다.
마우스 휠을 사용하여 글자 크기를 조절해보세요.
    </div>
  </div>

  <script>
    const textDisplay = document.getElementById('textDisplay');
    const sizeIndicator = document.getElementById('sizeIndicator');

    let fontSize = 24;
    const minSize = 24;
    const maxSize = 60;
    let sizeIndicatorTimeout;

    function updateSizeIndicator() {
      sizeIndicator.textContent = fontSize + 'px';
      sizeIndicator.classList.add('show');

      clearTimeout(sizeIndicatorTimeout);
      sizeIndicatorTimeout = setTimeout(() => {
        sizeIndicator.classList.remove('show');
      }, 1500);
    }

    function applyUniformStyling() {
      const allElements = textDisplay.querySelectorAll('*');
      allElements.forEach(element => {
        element.style.fontFamily = 'December25910, "맑은 고딕", "Malgun Gothic", sans-serif';
        element.style.fontSize = fontSize + 'px';
        element.style.lineHeight = fontSize + 'px';
        element.style.color = '#333';
        element.style.backgroundColor = '';
        element.style.textDecoration = '';
        element.style.fontWeight = '';
        element.style.fontStyle = '';
      });
    }

    function updateFontSize(newSize) {
      fontSize = Math.min(Math.max(newSize, minSize), maxSize);
      textDisplay.style.fontSize = fontSize + 'px';
      textDisplay.style.lineHeight = fontSize + 'px';
      applyUniformStyling();
      updateSizeIndicator();
    }

    window.addEventListener('wheel', function(e) {
      if (!e.ctrlKey && !e.shiftKey && !e.altKey) {
        e.preventDefault();
        const delta = e.deltaY > 0 ? -2 : 2;
        updateFontSize(fontSize + delta);
      }
    }, { passive: false });

    window.addEventListener('keydown', function(e) {
      if (e.ctrlKey) {
        if (e.key === '=' || e.key === '+') {
          e.preventDefault();
          updateFontSize(fontSize + 2);
        } else if (e.key === '-') {
          e.preventDefault();
          updateFontSize(fontSize - 2);
        } else if (e.key === '0') {
          e.preventDefault();
          updateFontSize(24);
        }
      }
    });

    textDisplay.addEventListener('paste', function(e) {
      e.preventDefault();
      const text = (e.clipboardData || window.clipboardData).getData('text');
      const selection = window.getSelection();
      if (selection.rangeCount > 0) {
        const range = selection.getRangeAt(0);
        range.deleteContents();
        const textNode = document.createTextNode(text);
        range.insertNode(textNode);
        range.setStartAfter(textNode);
        range.collapse(true);
        selection.removeAllRanges();
        selection.addRange(range);
      } else {
        textDisplay.textContent += text;
      }
      applyUniformStyling();
    });

    textDisplay.addEventListener('input', function() {
      setTimeout(() => {
        applyUniformStyling();
      }, 10);
    });

    // 초기 글자 크기 적용
    updateFontSize(24);

    console.log('세로쓰기 테스트 페이지가 로드되었습니다.');
    console.log('마우스 휠로 글자 크기를 24~60px 사이에서 조절할 수 있습니다.');
  </script>
</body>
</html>
